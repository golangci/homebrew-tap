# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GolangciLint < Formula
  desc "Fast linters runner for Go."
  homepage "https://golangci.com"
  version "1.59.1"

  on_macos do
    on_intel do
      url "https://github.com/golangci/golangci-lint/releases/download/v1.59.1/golangci-lint-1.59.1-darwin-amd64.tar.gz"
      sha256 "2f945063394a489c0037f0369c0ce21bc007565c08f90b924a35f4c04721cbc0"

      def install
        bin.install "golangci-lint"
        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output
        prefix.install_metafiles
      end
    end
    on_arm do
      url "https://github.com/golangci/golangci-lint/releases/download/v1.59.1/golangci-lint-1.59.1-darwin-arm64.tar.gz"
      sha256 "16ec8a86974ddebd466a5cc071bb9f44d06d2a1f4bf93d13fbcb59e1704edb39"

      def install
        bin.install "golangci-lint"
        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/golangci/golangci-lint/releases/download/v1.59.1/golangci-lint-1.59.1-linux-amd64.tar.gz"
        sha256 "c30696f1292cff8778a495400745f0f9c0406a3f38d8bb12cef48d599f6c7791"

        def install
          bin.install "golangci-lint"
          output = Utils.popen_read("#{bin}/golangci-lint completion bash")
          (bash_completion/"golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
          (zsh_completion/"_golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion fish")
          (fish_completion/"golangci-lint.fish").write output
          prefix.install_metafiles
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/golangci/golangci-lint/releases/download/v1.59.1/golangci-lint-1.59.1-linux-armv6.tar.gz"
        sha256 "43b8ad76ad1e8991052f0dc46d1dc5fb5c44c6a2c2fefbd427b1fa64d2f0602b"

        def install
          bin.install "golangci-lint"
          output = Utils.popen_read("#{bin}/golangci-lint completion bash")
          (bash_completion/"golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
          (zsh_completion/"_golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion fish")
          (fish_completion/"golangci-lint.fish").write output
          prefix.install_metafiles
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/golangci/golangci-lint/releases/download/v1.59.1/golangci-lint-1.59.1-linux-arm64.tar.gz"
        sha256 "8264507b560ae89dd080d5a0c7198ca5198e2b45f937a1f7fd873a8baa8e0b8f"

        def install
          bin.install "golangci-lint"
          output = Utils.popen_read("#{bin}/golangci-lint completion bash")
          (bash_completion/"golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
          (zsh_completion/"_golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion fish")
          (fish_completion/"golangci-lint.fish").write output
          prefix.install_metafiles
        end
      end
    end
  end

  test do
    system "#{bin}/golangci-lint --version"
  end
end
