# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GolangciLint < Formula
  desc "Fast linters runner for Go."
  homepage "https://golangci.com"
  version "1.59.0"

  on_macos do
    on_intel do
      url "https://github.com/golangci/golangci-lint/releases/download/v1.59.0/golangci-lint-1.59.0-darwin-amd64.tar.gz"
      sha256 "418acf7e255ddc0783e97129c9b03d9311b77826a5311d425a01c708a86417e7"

      def install
        bin.install "golangci-lint"
        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output
        prefix.install_metafiles
      end
    end
    on_arm do
      url "https://github.com/golangci/golangci-lint/releases/download/v1.59.0/golangci-lint-1.59.0-darwin-arm64.tar.gz"
      sha256 "5f6a1d95a6dd69f6e328eb56dd311a38e04cfab79a1305fbf4957f4e203f47b6"

      def install
        bin.install "golangci-lint"
        output = Utils.popen_read("#{bin}/golangci-lint completion bash")
        (bash_completion/"golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
        (zsh_completion/"_golangci-lint").write output
        output = Utils.popen_read("#{bin}/golangci-lint completion fish")
        (fish_completion/"golangci-lint.fish").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/golangci/golangci-lint/releases/download/v1.59.0/golangci-lint-1.59.0-linux-amd64.tar.gz"
        sha256 "3b14a439f33c4fff83dbe0349950d984042b9a1feb6c62f82787b598fc3ab5f4"

        def install
          bin.install "golangci-lint"
          output = Utils.popen_read("#{bin}/golangci-lint completion bash")
          (bash_completion/"golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
          (zsh_completion/"_golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion fish")
          (fish_completion/"golangci-lint.fish").write output
          prefix.install_metafiles
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/golangci/golangci-lint/releases/download/v1.59.0/golangci-lint-1.59.0-linux-armv6.tar.gz"
        sha256 "93149e2d3b25ac754df9a23172403d8aa6d021a7e0d9c090a12f51897f68c9a0"

        def install
          bin.install "golangci-lint"
          output = Utils.popen_read("#{bin}/golangci-lint completion bash")
          (bash_completion/"golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
          (zsh_completion/"_golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion fish")
          (fish_completion/"golangci-lint.fish").write output
          prefix.install_metafiles
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/golangci/golangci-lint/releases/download/v1.59.0/golangci-lint-1.59.0-linux-arm64.tar.gz"
        sha256 "c57e6c0b0fa03089a2611dceddd5bc5d206716cccdff8b149da8baac598719a1"

        def install
          bin.install "golangci-lint"
          output = Utils.popen_read("#{bin}/golangci-lint completion bash")
          (bash_completion/"golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion zsh")
          (zsh_completion/"_golangci-lint").write output
          output = Utils.popen_read("#{bin}/golangci-lint completion fish")
          (fish_completion/"golangci-lint.fish").write output
          prefix.install_metafiles
        end
      end
    end
  end

  test do
    system "#{bin}/golangci-lint --version"
  end
end
